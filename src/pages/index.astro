---
import { AstroFont } from "astro-font";
import Layout from "@layouts/BaseLayout.astro";
import Text from "@atoms/Text.astro";
import Section from "@atoms/Section.astro";
import Link from "@atoms/Link.astro";
import Button from "@atoms/Button.astro";
import List from "@atoms/List.astro";
import Details from "@atoms/Details.astro";
import Table from "@atoms/Table.astro";
import Input from "@atoms/Input.astro";
import Form from "@organisms/Form.astro";
import Faq from "@organisms/Faq.astro";
import Wrapper2 from "@atoms/Wrapper2.astro";
import Image from "astro/components/Image.astro";
import Slider from "@molecules/Slider.astro";
import Carousel from "@molecules/Carousel.astro";
import Gallery from "@molecules/Gallery.astro";

function handleSubmit(event: Event) {
  event.preventDefault();
  const form = event.target as HTMLFormElement;
  const data = new FormData(form);
  const values = Object.fromEntries(data.entries());
  alert(`Données envoyées : ${JSON.stringify(values, null, 2)}`);
}

// Sample gallery images
const galleryImages = [
  { src: "https://picsum.photos/400/300?random=1", alt: "Image 1", caption: "Beautiful landscape" },
  { src: "https://picsum.photos/400/300?random=2", alt: "Image 2", caption: "City skyline" },
  { src: "https://picsum.photos/400/300?random=3", alt: "Image 3", caption: "Nature scene" },
  { src: "https://picsum.photos/400/300?random=4", alt: "Image 4", caption: "Architecture" },
  { src: "https://picsum.photos/400/300?random=5", alt: "Image 5", caption: "Abstract art" },
  { src: "https://picsum.photos/400/300?random=6", alt: "Image 6", caption: "Portrait" }
];

const productImages = [
  { 
    src: "https://picsum.photos/600/400?random=10", 
    alt: "Product main view", 
    caption: "Main product view",
    thumb: "https://picsum.photos/100/100?random=10"
  },
  { 
    src: "https://picsum.photos/600/400?random=11", 
    alt: "Product side view", 
    caption: "Side view",
    thumb: "https://picsum.photos/100/100?random=11"
  },
  { 
    src: "https://picsum.photos/600/400?random=12", 
    alt: "Product detail", 
    caption: "Detail view",
    thumb: "https://picsum.photos/100/100?random=12"
  },
  { 
    src: "https://picsum.photos/600/400?random=13", 
    alt: "Product back view", 
    caption: "Back view",
    thumb: "https://picsum.photos/100/100?random=13"
  }
];
---

<Layout title="Design System Ultra-Performant" description="Un design system complet avec des composants réutilisables et des styles cohérents, optimisé pour la performance.">

<!-- Hero Section with Primary Preset -->
<Section preset="primary" textAlign="center" minHeight="60vh" tag="header">
  <Wrapper2 preset="primary" display="flex" flexDirection="column" justifyContent="center" alignItems="center" gap="2rem">
    <Text tag="h1" fontSize="3rem" fontWeight="bold" textColor="white">
      Design System Ultra-Performant
    </Text>
    <Text tag="p" fontSize="1.25rem" textColor="white" maxWidth="600px">
      Découvrez notre collection de composants optimisés, sans JavaScript quand c'est possible, avec des presets élégants et une responsivité parfaite.
    </Text>
    <Wrapper2 display="flex" gap="1rem" flexWrap="wrap" justifyContent="center">
      <Button preset="primary" text="Découvrir" backgroundColor="white" textColor="var(--color-primary)" />
      <Button preset="secondary" text="Documentation" backgroundColor="transparent" textColor="white" border />
    </Wrapper2>
  </Wrapper2>
</Section>

<!-- Section & Wrapper Presets Demo -->
<Section preset="secondary" textAlign="center">
  <Wrapper2 preset="default" cols={2} gap="2rem">
    <div>
      <Text tag="h2" fontSize="2rem" fontWeight="bold" marginBottom="1rem">
        Section & Wrapper Presets
      </Text>
      <Text tag="p" marginBottom="2rem">
        Quatre presets disponibles pour chaque composant : default, primary, secondary, accent
      </Text>
    </div>
    
    <Wrapper2 preset="accent" padding="2rem" textAlign="center">
      <Text tag="h3" fontSize="1.5rem" fontWeight="bold" marginBottom="1rem">
        Wrapper Accent
      </Text>
      <Text tag="p">
        Ce wrapper utilise le preset accent avec des styles prédéfinis optimisés.
      </Text>
    </Wrapper2>
  </Wrapper2>
</Section>

<!-- Gallery Showcase -->
<Section preset="default" textAlign="center">
  <Wrapper2 cols={1} gap="3rem">
    <div>
      <Text tag="h2" fontSize="2rem" fontWeight="bold" marginBottom="1rem">
        Galeries Ultra-Performantes
      </Text>
      <Text tag="p" marginBottom="2rem">
        Quatre modes de galerie sans JavaScript : gallery, galleryPictures, galleryProductThumb, galleryEnhanced
      </Text>
    </div>

    <!-- Standard Gallery -->
    <div>
      <Text tag="h3" fontSize="1.5rem" fontWeight="semibold" marginBottom="1rem">
        Gallery Standard (Preset Primary)
      </Text>
      <Gallery 
        images={galleryImages} 
        mode="gallery" 
        preset="primary"
        columns={3}
        aspectRatio="4/3"
      />
    </div>

    <!-- Pictures Gallery (Masonry) -->
    <div>
      <Text tag="h3" fontSize="1.5rem" fontWeight="semibold" marginBottom="1rem">
        Gallery Pictures - Masonry (Preset Secondary)
      </Text>
      <Gallery 
        images={galleryImages} 
        mode="galleryPictures" 
        preset="secondary"
        columns={4}
      />
    </div>

    <!-- Product Thumbnail Gallery -->
    <div>
      <Text tag="h3" fontSize="1.5rem" fontWeight="semibold" marginBottom="1rem">
        Gallery Product Thumbnails (Preset Accent)
      </Text>
      <Wrapper2 maxWidth="600px" margin="0 auto">
        <Gallery 
          images={productImages} 
          mode="galleryProductThumb" 
          preset="accent"
        />
      </Wrapper2>
    </div>

    <!-- Enhanced Gallery -->
    <div>
      <Text tag="h3" fontSize="1.5rem" fontWeight="semibold" marginBottom="1rem">
        Gallery Enhanced avec Overlay (Preset Default)
      </Text>
      <Gallery 
        images={galleryImages} 
        mode="galleryEnhanced" 
        preset="default"
        columns={3}
        aspectRatio="16/9"
      />
    </div>
  </Wrapper2>
</Section>

<!-- Carousel Section -->
<Section preset="accent" textAlign="center">
  <Wrapper2 cols={1} gap="3rem">
    <div>
      <Text tag="h2" fontSize="2rem" fontWeight="bold" marginBottom="1rem" textColor="white">
        Carrousels Performants
      </Text>
      <Text tag="p" marginBottom="2rem" textColor="white">
        Carrousels optimisés avec navigation tactile, clavier et contrôles accessibles
      </Text>
    </div>

    <Wrapper2 cols={2} gap="2rem">
      <!-- Carousel Primary -->
      <div>
        <Text tag="h3" fontSize="1.25rem" fontWeight="semibold" marginBottom="1rem" textColor="white">
          Carousel Primary avec Auto-play
        </Text>
        <Carousel 
          preset="primary"
          idPrefix="carousel-primary"
          showDots={true}
          showArrows={true}
          autoplay={true}
          autoplayInterval={3000}
          aspectRatio="16/9"
        >
          <img src="https://picsum.photos/800/450?random=20" alt="Slide 1" />
          <img src="https://picsum.photos/800/450?random=21" alt="Slide 2" />
          <img src="https://picsum.photos/800/450?random=22" alt="Slide 3" />
          <img src="https://picsum.photos/800/450?random=23" alt="Slide 4" />
        </Carousel>
      </div>

      <!-- Carousel Secondary -->
      <div>
        <Text tag="h3" fontSize="1.25rem" fontWeight="semibold" marginBottom="1rem" textColor="white">
          Carousel Secondary Manuel
        </Text>
        <Carousel 
          preset="secondary"
          idPrefix="carousel-secondary"
          showDots={true}
          showArrows={true}
          autoplay={false}
          aspectRatio="4/3"
        >
          <img src="https://picsum.photos/800/600?random=24" alt="Slide 1" />
          <img src="https://picsum.photos/800/600?random=25" alt="Slide 2" />
          <img src="https://picsum.photos/800/600?random=26" alt="Slide 3" />
        </Carousel>
      </div>
    </Wrapper2>
  </Wrapper2>
</Section>

<!-- Slider Section -->
<Section preset="default">
  <Wrapper2 cols={1} gap="3rem">
    <div style="text-align: center;">
      <Text tag="h2" fontSize="2rem" fontWeight="bold" marginBottom="1rem">
        Sliders Horizontaux
      </Text>
      <Text tag="p" marginBottom="2rem">
        Sliders avec défilement fluide, support tactile et contrôles de navigation
      </Text>
    </div>

    <!-- Slider Primary -->
    <div>
      <Text tag="h3" fontSize="1.5rem" fontWeight="semibold" marginBottom="1rem">
        Slider Primary avec Auto-scroll
      </Text>
      <Slider 
        preset="primary"
        gap="2rem"
        itemMinWidth="300px"
        autoScroll={true}
        scrollSpeed={30}
      >
        <div style="text-align: center;">
          <img src="https://picsum.photos/280/200?random=30" alt="Item 1" style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;" />
          <Text tag="h4" fontSize="1.125rem" fontWeight="semibold">Produit 1</Text>
          <Text tag="p" fontSize="0.875rem" textColor="var(--color-muted)">Description du produit</Text>
        </div>
        <div style="text-align: center;">
          <img src="https://picsum.photos/280/200?random=31" alt="Item 2" style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;" />
          <Text tag="h4" fontSize="1.125rem" fontWeight="semibold">Produit 2</Text>
          <Text tag="p" fontSize="0.875rem" textColor="var(--color-muted)">Description du produit</Text>
        </div>
        <div style="text-align: center;">
          <img src="https://picsum.photos/280/200?random=32" alt="Item 3" style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;" />
          <Text tag="h4" fontSize="1.125rem" fontWeight="semibold">Produit 3</Text>
          <Text tag="p" fontSize="0.875rem" textColor="var(--color-muted)">Description du produit</Text>
        </div>
        <div style="text-align: center;">
          <img src="https://picsum.photos/280/200?random=33" alt="Item 4" style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;" />
          <Text tag="h4" fontSize="1.125rem" fontWeight="semibold">Produit 4</Text>
          <Text tag="p" fontSize="0.875rem" textColor="var(--color-muted)">Description du produit</Text>
        </div>
        <div style="text-align: center;">
          <img src="https://picsum.photos/280/200?random=34" alt="Item 5" style="width: 100%; border-radius: 0.5rem; margin-bottom: 1rem;" />
          <Text tag="h4" fontSize="1.125rem" fontWeight="semibold">Produit 5</Text>
          <Text tag="p" fontSize="0.875rem" textColor="var(--color-muted)">Description du produit</Text>
        </div>
      </Slider>
    </div>

    <!-- Slider Accent -->
    <div>
      <Text tag="h3" fontSize="1.5rem" fontWeight="semibold" marginBottom="1rem">
        Slider Accent Manuel
      </Text>
      <Slider 
        preset="accent"
        gap="1.5rem"
        itemMinWidth="250px"
        showScrollbar={true}
      >
        <div style="padding: 1.5rem; text-align: center;">
          <Text tag="h4" fontSize="1.25rem" fontWeight="bold" marginBottom="0.5rem">Feature 1</Text>
          <Text tag="p" fontSize="0.875rem">Description de la fonctionnalité</Text>
        </div>
        <div style="padding: 1.5rem; text-align: center;">
          <Text tag="h4" fontSize="1.25rem" fontWeight="bold" marginBottom="0.5rem">Feature 2</Text>
          <Text tag="p" fontSize="0.875rem">Description de la fonctionnalité</Text>
        </div>
        <div style="padding: 1.5rem; text-align: center;">
          <Text tag="h4" fontSize="1.25rem" fontWeight="bold" marginBottom="0.5rem">Feature 3</Text>
          <Text tag="p" fontSize="0.875rem">Description de la fonctionnalité</Text>
        </div>
        <div style="padding: 1.5rem; text-align: center;">
          <Text tag="h4" fontSize="1.25rem" fontWeight="bold" marginBottom="0.5rem">Feature 4</Text>
          <Text tag="p" fontSize="0.875rem">Description de la fonctionnalité</Text>
        </div>
      </Slider>
    </div>
  </Wrapper2>
</Section>

<!-- Responsive Grid Demo -->
<Section preset="secondary">
  <Wrapper2 cols={1} gap="2rem">
    <div style="text-align: center;">
      <Text tag="h2" fontSize="2rem" fontWeight="bold" marginBottom="1rem">
        Grilles Responsives Parfaites
      </Text>
      <Text tag="p" marginBottom="2rem">
        Adaptation automatique selon la taille d'écran avec breakpoints optimisés
      </Text>
    </div>

    <Wrapper2 cols={6} colsTablet={3} colsMobile={2} gap="1rem">
      {Array.from({length: 12}, (_, i) => (
        <div style="background: white; padding: 1rem; border-radius: 0.5rem; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
          <Text tag="p" fontSize="0.875rem" fontWeight="semibold">Item {i + 1}</Text>
        </div>
      ))}
    </Wrapper2>

    <div style="text-align: center; margin-top: 2rem;">
      <Text tag="p" fontSize="0.875rem" textColor="var(--color-muted)">
        Desktop: 6 colonnes | Tablette: 3 colonnes | Mobile: 2 colonnes
      </Text>
    </div>
  </Wrapper2>
</Section>

<!-- Performance Features -->
<Section preset="default" textAlign="center">
  <Wrapper2 cols={1} gap="3rem" maxWidth="800px" margin="0 auto">
    <div>
      <Text tag="h2" fontSize="2rem" fontWeight="bold" marginBottom="1rem">
        Fonctionnalités Ultra-Performantes
      </Text>
    </div>

    <Wrapper2 cols={2} gap="2rem">
      <div style="text-align: left;">
        <Text tag="h3" fontSize="1.25rem" fontWeight="semibold" marginBottom="1rem">
          ⚡ Sans JavaScript
        </Text>
        <Text tag="p" fontSize="0.875rem" marginBottom="1rem">
          La plupart des composants fonctionnent uniquement avec CSS pour une performance maximale.
        </Text>
      </div>

      <div style="text-align: left;">
        <Text tag="h3" fontSize="1.25rem" fontWeight="semibold" marginBottom="1rem">
          📱 100% Responsive
        </Text>
        <Text tag="p" fontSize="0.875rem" marginBottom="1rem">
          Adaptation parfaite sur tous les appareils avec des breakpoints optimisés.
        </Text>
      </div>

      <div style="text-align: left;">
        <Text tag="h3" fontSize="1.25rem" fontWeight="semibold" marginBottom="1rem">
          🎨 Presets Élégants
        </Text>
        <Text tag="p" fontSize="0.875rem" marginBottom="1rem">
          4 presets par composant pour une cohérence visuelle parfaite.
        </Text>
      </div>

      <div style="text-align: left;">
        <Text tag="h3" fontSize="1.25rem" fontWeight="semibold" marginBottom="1rem">
          ♿ Accessible
        </Text>
        <Text tag="p" fontSize="0.875rem" marginBottom="1rem">
          Navigation clavier, lecteurs d'écran et ARIA labels intégrés.
        </Text>
      </div>
    </Wrapper2>
  </Wrapper2>
</Section>

</Layout>